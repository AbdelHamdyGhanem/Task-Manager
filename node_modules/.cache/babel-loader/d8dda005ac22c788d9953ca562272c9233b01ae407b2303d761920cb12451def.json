{"ast":null,"code":"// https://www.mongodb.com/docs/manual/reference/operator/aggregation/maxN-array-element/\nimport { computeValue } from \"../../../core\";\nimport { assert, isArray, isNil } from \"../../../util\";\nimport { $maxN as __maxN } from \"../../accumulator/maxN\";\n/**\n * Returns the n largest values in an array.\n *\n * @param  {Object} obj\n * @param  {*} expr\n * @return {*}\n */\nexport const $maxN = (obj, expr, options) => {\n  // first try the accumulator if input is an array.\n  if (obj instanceof Array) return __maxN(obj, expr, options);\n  const {\n    input,\n    n\n  } = computeValue(obj, expr, null, options);\n  if (isNil(input)) return null;\n  assert(isArray(input), \"Must resolve to an array/null or missing\");\n  return __maxN(input, {\n    n,\n    input: \"$$this\"\n  }, options);\n};","map":{"version":3,"names":["computeValue","assert","isArray","isNil","$maxN","__maxN","obj","expr","options","Array","input","n"],"sources":["/Users/abdelghanem/Desktop/tasker/node_modules/mingo/dist/esm/operators/expression/array/maxN.js"],"sourcesContent":["// https://www.mongodb.com/docs/manual/reference/operator/aggregation/maxN-array-element/\nimport { computeValue } from \"../../../core\";\nimport { assert, isArray, isNil } from \"../../../util\";\nimport { $maxN as __maxN } from \"../../accumulator/maxN\";\n/**\n * Returns the n largest values in an array.\n *\n * @param  {Object} obj\n * @param  {*} expr\n * @return {*}\n */\nexport const $maxN = (obj, expr, options) => {\n    // first try the accumulator if input is an array.\n    if (obj instanceof Array)\n        return __maxN(obj, expr, options);\n    const { input, n } = computeValue(obj, expr, null, options);\n    if (isNil(input))\n        return null;\n    assert(isArray(input), \"Must resolve to an array/null or missing\");\n    return __maxN(input, { n, input: \"$$this\" }, options);\n};\n"],"mappings":"AAAA;AACA,SAASA,YAAY,QAAQ,eAAe;AAC5C,SAASC,MAAM,EAAEC,OAAO,EAAEC,KAAK,QAAQ,eAAe;AACtD,SAASC,KAAK,IAAIC,MAAM,QAAQ,wBAAwB;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMD,KAAK,GAAGA,CAACE,GAAG,EAAEC,IAAI,EAAEC,OAAO,KAAK;EACzC;EACA,IAAIF,GAAG,YAAYG,KAAK,EACpB,OAAOJ,MAAM,CAACC,GAAG,EAAEC,IAAI,EAAEC,OAAO,CAAC;EACrC,MAAM;IAAEE,KAAK;IAAEC;EAAE,CAAC,GAAGX,YAAY,CAACM,GAAG,EAAEC,IAAI,EAAE,IAAI,EAAEC,OAAO,CAAC;EAC3D,IAAIL,KAAK,CAACO,KAAK,CAAC,EACZ,OAAO,IAAI;EACfT,MAAM,CAACC,OAAO,CAACQ,KAAK,CAAC,EAAE,0CAA0C,CAAC;EAClE,OAAOL,MAAM,CAACK,KAAK,EAAE;IAAEC,CAAC;IAAED,KAAK,EAAE;EAAS,CAAC,EAAEF,OAAO,CAAC;AACzD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}