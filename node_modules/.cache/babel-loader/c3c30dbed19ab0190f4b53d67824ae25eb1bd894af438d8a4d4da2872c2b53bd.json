{"ast":null,"code":"/**\n * String Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#string-expression-operators\n */\nimport { computeValue } from \"../../../core\";\nimport { assert, isNil, isString } from \"../../../util\";\n/**\n * Replaces all instances of a matched string in a given input.\n *\n * @param  {Object} obj\n * @param  {Array} expr\n */\nexport const $replaceAll = (obj, expr, options) => {\n  const args = computeValue(obj, expr, null, options);\n  const arr = [args.input, args.find, args.replacement];\n  if (arr.some(isNil)) return null;\n  assert(arr.every(isString), \"$replaceAll expression fields must evaluate to string\");\n  return args.input.replace(new RegExp(args.find, \"g\"), args.replacement);\n};","map":{"version":3,"names":["computeValue","assert","isNil","isString","$replaceAll","obj","expr","options","args","arr","input","find","replacement","some","every","replace","RegExp"],"sources":["/Users/abdelghanem/Desktop/tasker/node_modules/mingo/dist/esm/operators/expression/string/replaceAll.js"],"sourcesContent":["/**\n * String Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#string-expression-operators\n */\nimport { computeValue } from \"../../../core\";\nimport { assert, isNil, isString } from \"../../../util\";\n/**\n * Replaces all instances of a matched string in a given input.\n *\n * @param  {Object} obj\n * @param  {Array} expr\n */\nexport const $replaceAll = (obj, expr, options) => {\n    const args = computeValue(obj, expr, null, options);\n    const arr = [args.input, args.find, args.replacement];\n    if (arr.some(isNil))\n        return null;\n    assert(arr.every(isString), \"$replaceAll expression fields must evaluate to string\");\n    return args.input.replace(new RegExp(args.find, \"g\"), args.replacement);\n};\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,YAAY,QAAQ,eAAe;AAC5C,SAASC,MAAM,EAAEC,KAAK,EAAEC,QAAQ,QAAQ,eAAe;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,WAAW,GAAGA,CAACC,GAAG,EAAEC,IAAI,EAAEC,OAAO,KAAK;EAC/C,MAAMC,IAAI,GAAGR,YAAY,CAACK,GAAG,EAAEC,IAAI,EAAE,IAAI,EAAEC,OAAO,CAAC;EACnD,MAAME,GAAG,GAAG,CAACD,IAAI,CAACE,KAAK,EAAEF,IAAI,CAACG,IAAI,EAAEH,IAAI,CAACI,WAAW,CAAC;EACrD,IAAIH,GAAG,CAACI,IAAI,CAACX,KAAK,CAAC,EACf,OAAO,IAAI;EACfD,MAAM,CAACQ,GAAG,CAACK,KAAK,CAACX,QAAQ,CAAC,EAAE,uDAAuD,CAAC;EACpF,OAAOK,IAAI,CAACE,KAAK,CAACK,OAAO,CAAC,IAAIC,MAAM,CAACR,IAAI,CAACG,IAAI,EAAE,GAAG,CAAC,EAAEH,IAAI,CAACI,WAAW,CAAC;AAC3E,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}