{"ast":null,"code":"// https://www.mongodb.com/docs/manual/reference/operator/aggregation/firstN-array-element/#mongodb-expression-exp.-firstN\nimport { computeValue } from \"../../../core\";\nimport { assert, isArray, isNil } from \"../../../util\";\nimport { $firstN as __firstN } from \"../../accumulator/firstN\";\n/**\n * Returns a specified number of elements from the beginning of an array.\n *\n * @param  {Object} obj\n * @param  {*} expr\n * @return {*}\n */\nexport const $firstN = (obj, expr, options) => {\n  // first try the accumulator if input is an array.\n  if (obj instanceof Array) return __firstN(obj, expr, options);\n  const {\n    input,\n    n\n  } = computeValue(obj, expr, null, options);\n  if (isNil(input)) return null;\n  assert(isArray(input), \"Must resolve to an array/null or missing\");\n  return __firstN(input, {\n    n,\n    input: \"$$this\"\n  }, options);\n};","map":{"version":3,"names":["computeValue","assert","isArray","isNil","$firstN","__firstN","obj","expr","options","Array","input","n"],"sources":["/Users/abdelghanem/Desktop/tasker/node_modules/mingo/dist/esm/operators/expression/array/firstN.js"],"sourcesContent":["// https://www.mongodb.com/docs/manual/reference/operator/aggregation/firstN-array-element/#mongodb-expression-exp.-firstN\nimport { computeValue } from \"../../../core\";\nimport { assert, isArray, isNil } from \"../../../util\";\nimport { $firstN as __firstN } from \"../../accumulator/firstN\";\n/**\n * Returns a specified number of elements from the beginning of an array.\n *\n * @param  {Object} obj\n * @param  {*} expr\n * @return {*}\n */\nexport const $firstN = (obj, expr, options) => {\n    // first try the accumulator if input is an array.\n    if (obj instanceof Array)\n        return __firstN(obj, expr, options);\n    const { input, n } = computeValue(obj, expr, null, options);\n    if (isNil(input))\n        return null;\n    assert(isArray(input), \"Must resolve to an array/null or missing\");\n    return __firstN(input, { n, input: \"$$this\" }, options);\n};\n"],"mappings":"AAAA;AACA,SAASA,YAAY,QAAQ,eAAe;AAC5C,SAASC,MAAM,EAAEC,OAAO,EAAEC,KAAK,QAAQ,eAAe;AACtD,SAASC,OAAO,IAAIC,QAAQ,QAAQ,0BAA0B;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMD,OAAO,GAAGA,CAACE,GAAG,EAAEC,IAAI,EAAEC,OAAO,KAAK;EAC3C;EACA,IAAIF,GAAG,YAAYG,KAAK,EACpB,OAAOJ,QAAQ,CAACC,GAAG,EAAEC,IAAI,EAAEC,OAAO,CAAC;EACvC,MAAM;IAAEE,KAAK;IAAEC;EAAE,CAAC,GAAGX,YAAY,CAACM,GAAG,EAAEC,IAAI,EAAE,IAAI,EAAEC,OAAO,CAAC;EAC3D,IAAIL,KAAK,CAACO,KAAK,CAAC,EACZ,OAAO,IAAI;EACfT,MAAM,CAACC,OAAO,CAACQ,KAAK,CAAC,EAAE,0CAA0C,CAAC;EAClE,OAAOL,QAAQ,CAACK,KAAK,EAAE;IAAEC,CAAC;IAAED,KAAK,EAAE;EAAS,CAAC,EAAEF,OAAO,CAAC;AAC3D,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}