{"ast":null,"code":"/**\n * Variable Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#variable-expression-operators\n */\nimport { ComputeOptions, computeValue } from \"../../../core\";\n/**\n * Defines variables for use within the scope of a sub-expression and returns the result of the sub-expression.\n *\n * @param obj The target object for this expression\n * @param expr The right-hand side of the operator\n * @param options Options to use for this operattion\n * @returns {*}\n */\nexport const $let = (obj, expr, options) => {\n  // resolve vars\n  const variables = {};\n  for (const [key, val] of Object.entries(expr.vars)) {\n    variables[key] = computeValue(obj, val, null, options);\n  }\n  return computeValue(obj, expr.in, null, ComputeOptions.init(options, obj, {\n    variables\n  }));\n};","map":{"version":3,"names":["ComputeOptions","computeValue","$let","obj","expr","options","variables","key","val","Object","entries","vars","in","init"],"sources":["/Users/abdelghanem/Desktop/tasker/node_modules/mingo/dist/esm/operators/expression/variable/let.js"],"sourcesContent":["/**\n * Variable Expression Operators: https://docs.mongodb.com/manual/reference/operator/aggregation/#variable-expression-operators\n */\nimport { ComputeOptions, computeValue } from \"../../../core\";\n/**\n * Defines variables for use within the scope of a sub-expression and returns the result of the sub-expression.\n *\n * @param obj The target object for this expression\n * @param expr The right-hand side of the operator\n * @param options Options to use for this operattion\n * @returns {*}\n */\nexport const $let = (obj, expr, options) => {\n    // resolve vars\n    const variables = {};\n    for (const [key, val] of Object.entries(expr.vars)) {\n        variables[key] = computeValue(obj, val, null, options);\n    }\n    return computeValue(obj, expr.in, null, ComputeOptions.init(options, obj, { variables }));\n};\n"],"mappings":"AAAA;AACA;AACA;AACA,SAASA,cAAc,EAAEC,YAAY,QAAQ,eAAe;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,IAAI,GAAGA,CAACC,GAAG,EAAEC,IAAI,EAAEC,OAAO,KAAK;EACxC;EACA,MAAMC,SAAS,GAAG,CAAC,CAAC;EACpB,KAAK,MAAM,CAACC,GAAG,EAAEC,GAAG,CAAC,IAAIC,MAAM,CAACC,OAAO,CAACN,IAAI,CAACO,IAAI,CAAC,EAAE;IAChDL,SAAS,CAACC,GAAG,CAAC,GAAGN,YAAY,CAACE,GAAG,EAAEK,GAAG,EAAE,IAAI,EAAEH,OAAO,CAAC;EAC1D;EACA,OAAOJ,YAAY,CAACE,GAAG,EAAEC,IAAI,CAACQ,EAAE,EAAE,IAAI,EAAEZ,cAAc,CAACa,IAAI,CAACR,OAAO,EAAEF,GAAG,EAAE;IAAEG;EAAU,CAAC,CAAC,CAAC;AAC7F,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}