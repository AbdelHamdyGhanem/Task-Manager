{"ast":null,"code":"import { isNil } from \"../../util\";\nimport { $push } from \"../accumulator/push\";\nimport { withMemo } from \"./_internal\";\n/**\n * Last observation carried forward. Sets values for null and missing fields in a window to the last non-null value for the field.\n */\nexport function $locf(_, collection, expr, options) {\n  return withMemo(collection, expr, () => {\n    const values = $push(collection, expr.inputExpr, options);\n    for (let i = 1; i < values.length; i++) {\n      if (isNil(values[i])) values[i] = values[i - 1];\n    }\n    return values;\n  }, series => series[expr.documentNumber - 1]);\n}","map":{"version":3,"names":["isNil","$push","withMemo","$locf","_","collection","expr","options","values","inputExpr","i","length","series","documentNumber"],"sources":["/Users/abdelghanem/Desktop/tasker/node_modules/mingo/dist/esm/operators/window/locf.js"],"sourcesContent":["import { isNil } from \"../../util\";\nimport { $push } from \"../accumulator/push\";\nimport { withMemo } from \"./_internal\";\n/**\n * Last observation carried forward. Sets values for null and missing fields in a window to the last non-null value for the field.\n */\nexport function $locf(_, collection, expr, options) {\n    return withMemo(collection, expr, () => {\n        const values = $push(collection, expr.inputExpr, options);\n        for (let i = 1; i < values.length; i++) {\n            if (isNil(values[i]))\n                values[i] = values[i - 1];\n        }\n        return values;\n    }, (series) => series[expr.documentNumber - 1]);\n}\n"],"mappings":"AAAA,SAASA,KAAK,QAAQ,YAAY;AAClC,SAASC,KAAK,QAAQ,qBAAqB;AAC3C,SAASC,QAAQ,QAAQ,aAAa;AACtC;AACA;AACA;AACA,OAAO,SAASC,KAAKA,CAACC,CAAC,EAAEC,UAAU,EAAEC,IAAI,EAAEC,OAAO,EAAE;EAChD,OAAOL,QAAQ,CAACG,UAAU,EAAEC,IAAI,EAAE,MAAM;IACpC,MAAME,MAAM,GAAGP,KAAK,CAACI,UAAU,EAAEC,IAAI,CAACG,SAAS,EAAEF,OAAO,CAAC;IACzD,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,MAAM,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;MACpC,IAAIV,KAAK,CAACQ,MAAM,CAACE,CAAC,CAAC,CAAC,EAChBF,MAAM,CAACE,CAAC,CAAC,GAAGF,MAAM,CAACE,CAAC,GAAG,CAAC,CAAC;IACjC;IACA,OAAOF,MAAM;EACjB,CAAC,EAAGI,MAAM,IAAKA,MAAM,CAACN,IAAI,CAACO,cAAc,GAAG,CAAC,CAAC,CAAC;AACnD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}