{"ast":null,"code":"import React,{useState,useEffect}from'react';import{auth}from'./services/firebase';import{signInWithPopup,GoogleAuthProvider,onAuthStateChanged,signOut}from'firebase/auth';import'./App.css';// Import your global CSS styles\nimport SideMenu from'./components/SideMenu';import CreateTask from'./components/CreateTask';import Home from'./components/Home';import History from'./components/History';import Preferences from'./components/Preferences';// Import Preferences component\nimport{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(null);const[layout,setLayout]=useState('columns');// Default layout is columns\nuseEffect(()=>{const unsubscribe=onAuthStateChanged(auth,user=>{setUser(user);});return()=>unsubscribe();},[]);const handleSignIn=async()=>{const provider=new GoogleAuthProvider();try{await signInWithPopup(auth,provider);}catch(error){console.error('Google sign-in error:',error);}};const handleSignOut=async()=>{try{await signOut(auth);// Optionally, navigate to another page after sign out\n}catch(error){console.error('Sign-out error:',error);}};const handleSavePreferences=newLayout=>{setLayout(newLayout);};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"App-header\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"welcome\",children:user&&window.location.pathname==='/'&&/*#__PURE__*/_jsxs(\"p\",{children:[\"Welcome, \",user.displayName,\"!\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-buttons\",children:user?/*#__PURE__*/_jsx(\"button\",{className:\"sign-out-btn\",onClick:handleSignOut,children:\"Sign out\"}):/*#__PURE__*/_jsx(\"button\",{className:\"sign-in-btn\",onClick:handleSignIn,children:\"Sign in with Google\"})})]})}),/*#__PURE__*/_jsx(SideMenu,{user:user}),window.location.pathname==='/'&&/*#__PURE__*/_jsx(Home,{user:user,layout:layout}),window.location.pathname==='/create-task'&&/*#__PURE__*/_jsx(CreateTask,{}),window.location.pathname==='/history'&&/*#__PURE__*/_jsx(History,{}),window.location.pathname==='/preferences'&&/*#__PURE__*/_jsx(Preferences,{onSavePreferences:handleSavePreferences})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","auth","signInWithPopup","GoogleAuthProvider","onAuthStateChanged","signOut","SideMenu","CreateTask","Home","History","Preferences","jsxs","_jsxs","jsx","_jsx","App","user","setUser","layout","setLayout","unsubscribe","handleSignIn","provider","error","console","handleSignOut","handleSavePreferences","newLayout","className","children","window","location","pathname","displayName","onClick","onSavePreferences"],"sources":["/Users/abdelghanem/Desktop/task-manager/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { auth } from './services/firebase';\nimport { signInWithPopup, GoogleAuthProvider, onAuthStateChanged, signOut } from 'firebase/auth';\nimport './App.css'; // Import your global CSS styles\nimport SideMenu from './components/SideMenu';\nimport CreateTask from './components/CreateTask';\nimport Home from './components/Home';\nimport History from './components/History';\nimport Preferences from './components/Preferences'; // Import Preferences component\n\nfunction App() {\n  const [user, setUser] = useState(null);\n  const [layout, setLayout] = useState('columns'); // Default layout is columns\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, user => {\n      setUser(user);\n    });\n    return () => unsubscribe();\n  }, []);\n\n  const handleSignIn = async () => {\n    const provider = new GoogleAuthProvider();\n    try {\n      await signInWithPopup(auth, provider);\n    } catch (error) {\n      console.error('Google sign-in error:', error);\n    }\n  };\n\n  const handleSignOut = async () => {\n    try {\n      await signOut(auth);\n      // Optionally, navigate to another page after sign out\n    } catch (error) {\n      console.error('Sign-out error:', error);\n    }\n  };\n\n  const handleSavePreferences = (newLayout) => {\n    setLayout(newLayout);\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <div className=\"header-content\">\n          <div className=\"welcome\">\n            {user && window.location.pathname === '/' && (\n              <p>Welcome, {user.displayName}!</p>\n            )}\n          </div>\n          <div className=\"auth-buttons\">\n            {user ? (\n              <button className=\"sign-out-btn\" onClick={handleSignOut}>Sign out</button>\n            ) : (\n              <button className=\"sign-in-btn\" onClick={handleSignIn}>Sign in with Google</button>\n            )}\n          </div>\n        </div>\n      </header>\n      <SideMenu user={user} />\n      {/* Render content based on user navigation and layout preferences */}\n      {window.location.pathname === '/' && <Home user={user} layout={layout} />}\n      {window.location.pathname === '/create-task' && <CreateTask />}\n      {window.location.pathname === '/history' && <History />}\n      {window.location.pathname === '/preferences' && <Preferences onSavePreferences={handleSavePreferences} />}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}